<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <title>{{ title or "SCMLite" }}</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Fonts & Icons -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <!-- SCMLite base Theme -->
    <link rel="stylesheet" href="{{ url_for('static', path='style/base.css') }}">
  </head>

<body>

  <!-- MOBILE HEADER -->
  <div class="mobile-header d-md-none">
    <div><span class="material-icons">local_shipping</span> SCMLite</div>
    <div>
      <a href="/profile"><span class="material-icons">account_circle</span></a>
      <a href="/logout"><span class="material-icons text-danger">logout</span></a>
    </div>
  </div>

  <!-- DESKTOP NAV -->
  <nav class="navbar navbar-expand-lg navbar-custom fixed-top d-none d-md-flex">
    <a class="navbar-brand text-white fw-bold fs-5" href="/home">
      <span class="material-icons">local_shipping</span> SCMLite
    </a>

    <div class="d-flex align-items-center ms-auto">
      <a class="nav-link {% if active_page=='home' %}active{% endif %}" href="/home">
        <span class="material-icons">home</span> Home
      </a>

      <a class="nav-link {% if active_page=='dashboard' %}active{% endif %}" href="/dashboard">
        <span class="material-icons">dashboard</span> Dashboard
      </a>

      

      <a class="nav-link {% if active_page=='track' %}active{% endif %}" href="/track_shipment">
        <span class="material-icons">location_searching</span> Track
      </a>

      <a class="nav-link {% if active_page=='stream' %}active{% endif %}" href="/DataStream">
        <span class="material-icons">sensors</span> Stream
      </a>

      {% if is_admin %}
      <a class="nav-link {% if active_page=='create' %}active{% endif %}" href="/create-shipment">
        <span class="material-icons">add_box</span> Create
      </a>
      <a class="nav-link {% if active_page=='users' %}active{% endif %}" href="/admin/users">
        <span class="material-icons">group</span> Users
      </a>
      <a class="nav-link {% if active_page=='role_history' %}active{% endif %}" href="/admin/role-history">
        <span class="material-icons">history</span> History
      </a>
      {% endif %}

      <a class="nav-link {% if active_page=='profile' %}active{% endif %}" href="/profile">
        <span class="material-icons">account_circle</span> Profile
      </a>

      <a class="nav-link text-danger" href="/logout">
        <span class="material-icons">logout</span> Logout
      </a>
    </div>
  </nav>

  <!-- MOBILE NAVIGATION -->
  <div class="mobile-nav d-md-none">
    <a href="/home" class="{% if active_page=='home' %}active{% endif %}">
      <span class="material-icons">home</span><br>Home
    </a>
    <a href="/dashboard" class="{% if active_page=='dashboard' %}active{% endif %}">
      <span class="material-icons">dashboard</span><br>Dashboard
    </a>
    <a href="/create-shipment" class="{% if active_page=='create' %}active{% endif %}">
      <span class="material-icons">add_box</span><br>Create
    </a>
    <a href="/track_shipment" class="{% if active_page=='track' %}active{% endif %}">
      <span class="material-icons">travel_explore</span><br>Track
    </a>
    <a href="/DataStream" class="{% if active_page=='stream' %}active{% endif %}">
      <span class="material-icons">sensors</span><br>Stream
    </a>
    <a href="/profile" class="{% if active_page=='profile' %}active{% endif %}">
      <span class="material-icons">account_circle</span><br>Profile
    </a>
  </div>

  <!-- MAIN CONTENT -->
  <div class="main-wrapper">
    <div class="container pt-5 mt-5">
      {% block content %}{% endblock %}
    </div>
  </div>

  <!-- FOOTER ALWAYS AT BOTTOM -->
  <footer class="text-center text-white" style="background:#2c3e50; padding:12px 0;">
    <small>© 2025 SCMLite • Powered by Suppu</small>
  </footer>

</body>
</html>
